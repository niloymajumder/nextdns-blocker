# Logrotate configuration for nextdns-blocker
#
# This is a template file. For automatic setup, run:
#   ./setup-logrotate.sh
#
# The setup script will detect your OS and create the appropriate
# configuration with correct paths:
#   - macOS:  ~/Library/Application Support/nextdns-blocker/logs/
#   - Linux:  ~/.local/share/nextdns-blocker/logs/
#
# Manual install (Linux):
#   sudo cp logrotate.conf /etc/logrotate.d/nextdns-blocker
#   # Edit paths to match your log directory
#
# Manual install (macOS with Homebrew):
#   cp logrotate.conf /opt/homebrew/etc/logrotate.d/nextdns-blocker
#   # or /usr/local/etc/logrotate.d/nextdns-blocker for Intel Macs
#   # Edit paths to match your log directory

# Application logs
# Replace LOG_DIR with your actual log directory path
# LOG_DIR/app.log {
~/.local/share/nextdns-blocker/logs/app.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644
    dateext
    dateformat -%Y%m%d
}

# Audit logs (keep longer for security compliance)
~/.local/share/nextdns-blocker/logs/audit.log {
    weekly
    rotate 12
    compress
    delaycompress
    missingok
    notifempty
    create 0644
    dateext
    dateformat -%Y%m%d
}

# Sync logs
~/.local/share/nextdns-blocker/logs/sync.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644
    dateext
    dateformat -%Y%m%d
}

# Watchdog logs
~/.local/share/nextdns-blocker/logs/watchdog.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0644
    dateext
    dateformat -%Y%m%d
}
